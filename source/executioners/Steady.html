<!DOCTYPE html><head><meta charset="UTF-8"><title>Steady | Moltres</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/moltres.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down">Moltres</a><a href="https://github.com/arfc/moltres" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="778c1421-ce05-4c4b-a82b-b2e021aff0f9" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="796df3f7-7b5f-4f8b-b031-2c1a80d0aac5" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="7fa83357-2754-4580-955c-1d2429c7e124" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#" class="sidenav-trigger" data-target="fc50e575-070f-457e-97af-1ab4f069557c"><i class="material-icons">menu</i></a><ul class="sidenav" id="fc50e575-070f-457e-97af-1ab4f069557c"><li><a href="#!" class="dropdown-trigger" data-target="daa0a4d3-3ffd-4e9f-93fb-a41541e5e5bd" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="6b618521-9a4c-49bd-a943-0218af29646e" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="1feaba03-5cad-417f-be66-f2df3b7e4643" data-constrainWidth="false">Help<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../citing.html">Citing</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="778c1421-ce05-4c4b-a82b-b2e021aff0f9"><li><a href="../../getting_started/installation.html">Install Moltres</a></li><li><a href="../../getting_started/tutorials.html">Tutorials</a></li></ul><ul class="dropdown-content" id="796df3f7-7b5f-4f8b-b031-2c1a80d0aac5"><li><a href="../../syntax/index.html">Moltres Syntax</a></li><li><a href="https://mooseframework.inl.gov/source/index.html">MOOSE Syntax</a></li><li><a href="../../doxygen/classes.html">Moltres Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="../../development/contributing.html">Contributing</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="7fa83357-2754-4580-955c-1d2429c7e124"><li><a href="https://github.com/arfc/moltres/discussions">Moltres Discussion Forum</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussion Forum</a></li></ul><ul class="dropdown-content" id="daa0a4d3-3ffd-4e9f-93fb-a41541e5e5bd"><li><a href="../../getting_started/installation.html">Install Moltres</a></li><li><a href="../../getting_started/tutorials.html">Tutorials</a></li></ul><ul class="dropdown-content" id="6b618521-9a4c-49bd-a943-0218af29646e"><li><a href="../../syntax/index.html">Moltres Syntax</a></li><li><a href="https://mooseframework.inl.gov/source/index.html">MOOSE Syntax</a></li><li><a href="../../doxygen/classes.html">Moltres Doxygen</a></li><li><a href="https://mooseframework.inl.gov/docs/doxygen/moose/classes.html">MOOSE Doxygen</a></li><li><a href="../../development/contributing.html">Contributing</a></li><li><a href="../../publications.html">List of Publications</a></li></ul><ul class="dropdown-content" id="1feaba03-5cad-417f-be66-f2df3b7e4643"><li><a href="https://github.com/arfc/moltres/discussions">Moltres Discussion Forum</a></li><li><a href="https://github.com/idaholab/moose/discussions">MOOSE Discussion Forum</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">executioners</span><a href="#" class="breadcrumb">Steady</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="fccb7923-74c0-4513-a115-4cfd558f3c9e" data-section-level="1" data-section-text="Steady"><h1 id="steady">Steady</h1><p>Executioner for steady-state simulations.</p><section class="scrollspy" id="ee20ff0d-e6b9-4988-846f-4bb9722402a8" data-section-level="2" data-section-text="Overview"><h2 id="overview">Overview</h2><p>Steady is a general solver for discrete steady-state nonlinear or linear problem:</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-f6d9ed99-d0dd-4893-9202-ee076c0fb2b3"></span><span class="moose-katex-equation-number">(1)</span><script>var element = document.getElementById("moose-equation-f6d9ed99-d0dd-4893-9202-ee076c0fb2b3");katex.render("\\mathbf{R}(\\mathbf{u}) = \\mathbf{0}.", element, {displayMode:true,throwOnError:false});</script></span><p>By default the line-search Newton in PETSc is used with the PJFNK (preconditioned Jacobian-free Newton Krylov) method. At each Newton iteration the executioner solves</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-ed2ba992-c9cc-4f6d-9ab9-ffa3345f2e47"></span><span class="moose-katex-equation-number">(2)</span><script>var element = document.getElementById("moose-equation-ed2ba992-c9cc-4f6d-9ab9-ffa3345f2e47");katex.render("\\mathbf{J}(\\mathbf{u}^{i-1}) \\delta \\mathbf{u}^{i} = \\mathbf{R}(\\mathbf{u}^{i-1}),", element, {displayMode:true,throwOnError:false});</script></span><p>where</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-2167a606-0cc6-4022-b968-c1cae2d2724d"></span><script>var element = document.getElementById("moose-equation-2167a606-0cc6-4022-b968-c1cae2d2724d");katex.render("\\mathbf{J}(\\mathbf{u}^{i-1}) \\equiv \\mathbf{R}'(\\mathbf{u}=\\mathbf{u}^{i-1})", element, {displayMode:true,throwOnError:false});</script></span><p>is the Jacobian matrix evaluated at <span class="moose-katex-inline-equation" id="moose-equation-4a3fccd9-5fff-45f9-ac7d-c07cacb5a40c"><script>var element = document.getElementById("moose-equation-4a3fccd9-5fff-45f9-ac7d-c07cacb5a40c");katex.render("\\mathbf{u}^{i-1}", element, {displayMode:false,throwOnError:false});</script></span>. Jacobian matrix depends on <span class="moose-katex-inline-equation" id="moose-equation-292a51c2-9d58-47e3-8914-6552a0314d65"><script>var element = document.getElementById("moose-equation-292a51c2-9d58-47e3-8914-6552a0314d65");katex.render("\\mathbf{u}^{i-1}", element, {displayMode:false,throwOnError:false});</script></span> for general nonlinear problems while it is constant for linear problems. The right hand side is also typically referred to as the residual at <span class="moose-katex-inline-equation" id="moose-equation-7d7a33ae-b731-44b4-8dcd-aab9ffcfddda"><script>var element = document.getElementById("moose-equation-7d7a33ae-b731-44b4-8dcd-aab9ffcfddda");katex.render("\\mathbf{u}^{i-1}", element, {displayMode:false,throwOnError:false});</script></span> of <a href="#moose-equation-f6d9ed99-d0dd-4893-9202-ee076c0fb2b3">Eq. (1)</a>. The Krylov methods are employed for solving the above linear equation, which requires only the evaluation of the matrix-vector product <span class="moose-katex-inline-equation" id="moose-equation-adf0b635-48e6-4145-bb9b-89d8119e9c3c"><script>var element = document.getElementById("moose-equation-adf0b635-48e6-4145-bb9b-89d8119e9c3c");katex.render("\\mathbf{J}(\\mathbf{u}^{i-1}) \\mathbf{y}", element, {displayMode:false,throwOnError:false});</script></span>. Within the MOOSE framework, the Jacobian-Free Newton Krylov method is used that approximates matrix vector products by the Finite-Difference like approximation:</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-72624f33-a505-42fd-9b71-8dcf38f4d2f3"></span><span class="moose-katex-equation-number">(3)</span><script>var element = document.getElementById("moose-equation-72624f33-a505-42fd-9b71-8dcf38f4d2f3");katex.render("\\mathbf{J}(\\mathbf{u}^{i-1}) \\mathbf{y} \\approx \\frac{\\mathbf{R}(\\mathbf{u}^{i-1} + \\epsilon \\mathbf{y}) - \\mathbf{R}(\\mathbf{u}^{i-1})}{\\epsilon},", element, {displayMode:true,throwOnError:false});</script></span><p>where the scalar value <span class="moose-katex-inline-equation" id="moose-equation-5bf8f735-6371-4939-a4d1-91a73f921486"><script>var element = document.getElementById("moose-equation-5bf8f735-6371-4939-a4d1-91a73f921486");katex.render("\\epsilon", element, {displayMode:false,throwOnError:false});</script></span> is chosen by PETSc automatically to approximate <span class="moose-katex-inline-equation" id="moose-equation-22dc6057-c60c-4af0-b6cd-8d58cf94247c"><script>var element = document.getElementById("moose-equation-22dc6057-c60c-4af0-b6cd-8d58cf94247c");katex.render("\\mathbf{J}(\\mathbf{u}^{i-1}) \\mathbf{y}", element, {displayMode:false,throwOnError:false});</script></span> accurately for the linear solve. It is noted that for a linear problem of which <span class="moose-katex-inline-equation" id="moose-equation-c2efac04-0f0c-4d6a-a675-c186d8c641ec"><script>var element = document.getElementById("moose-equation-c2efac04-0f0c-4d6a-a675-c186d8c641ec");katex.render("\\mathbf{R}(\\mathbf{u})", element, {displayMode:false,throwOnError:false});</script></span> can be expressed as <span class="moose-katex-inline-equation" id="moose-equation-18309b39-a53c-47ce-bfe0-e85b4004fa3a"><script>var element = document.getElementById("moose-equation-18309b39-a53c-47ce-bfe0-e85b4004fa3a");katex.render("\\mathbf{A} \\mathbf{u}-\\mathbf{b}", element, {displayMode:false,throwOnError:false});</script></span>, where matrix <span class="moose-katex-inline-equation" id="moose-equation-abbc19b1-ef93-4dd0-b54b-93123f6948d0"><script>var element = document.getElementById("moose-equation-abbc19b1-ef93-4dd0-b54b-93123f6948d0");katex.render("\\mathbf{A}", element, {displayMode:false,throwOnError:false});</script></span> is the Jacobian independent on <span class="moose-katex-inline-equation" id="moose-equation-9f5f5b20-0f76-4baf-9def-1ffe6f92595f"><script>var element = document.getElementById("moose-equation-9f5f5b20-0f76-4baf-9def-1ffe6f92595f");katex.render("\\mathbf{u}", element, {displayMode:false,throwOnError:false});</script></span> and <span class="moose-katex-inline-equation" id="moose-equation-f3fbef1b-4930-439a-a65c-a0133894a74c"><script>var element = document.getElementById("moose-equation-f3fbef1b-4930-439a-a65c-a0133894a74c");katex.render("\\mathbf{b}", element, {displayMode:false,throwOnError:false});</script></span> is the right-hand-side vector, the right hand side of <a href="#moose-equation-72624f33-a505-42fd-9b71-8dcf38f4d2f3">Eq. (3)</a> is independent on <span class="moose-katex-inline-equation" id="moose-equation-54c873c6-cb74-4637-8c66-7cc6bbf8c706"><script>var element = document.getElementById("moose-equation-54c873c6-cb74-4637-8c66-7cc6bbf8c706");katex.render("\\epsilon", element, {displayMode:false,throwOnError:false});</script></span>. Section 5.5 of PETSc user&#x27;s manual on matrix-free methods details the algorithm for choosing the value of <span class="moose-katex-inline-equation" id="moose-equation-f504e110-478f-4680-92ae-dad35571d881"><script>var element = document.getElementById("moose-equation-f504e110-478f-4680-92ae-dad35571d881");katex.render("\\epsilon", element, {displayMode:false,throwOnError:false});</script></span>. It is actually the PETSc option <code>-mat_mffd_err</code> controls the <span class="moose-katex-inline-equation" id="moose-equation-dd464c11-7fee-4516-b015-817dd62ef067"><script>var element = document.getElementById("moose-equation-dd464c11-7fee-4516-b015-817dd62ef067");katex.render("\\epsilon", element, {displayMode:false,throwOnError:false});</script></span> but not <code>-snes_mf_err</code> unless we set <code>-snes_mf_version</code> to 2 other than the default 1. This could be changed in future PETSc updates.</p><p>The Krylov methods typically also require an approximation of the actual Jacobian <span class="moose-katex-inline-equation" id="moose-equation-9411ce20-7c8a-4590-b854-dee6bc109299"><script>var element = document.getElementById("moose-equation-9411ce20-7c8a-4590-b854-dee6bc109299");katex.render("\\mathbf{M}(\\mathbf{u}^{i-1}) \\approx \\mathbf{J}(\\mathbf{u}^{i-1})", element, {displayMode:false,throwOnError:false});</script></span> for pre-conditioning the Krylov solution at each linear iteration. Note, the preconditioning matrix is seldom the exact Jacobian <span class="moose-katex-inline-equation" id="moose-equation-f2ff63d4-35ca-4e97-8f13-020bbffe6488"><script>var element = document.getElementById("moose-equation-f2ff63d4-35ca-4e97-8f13-020bbffe6488");katex.render("\\mathbf{J}", element, {displayMode:false,throwOnError:false});</script></span> because it would require too much computational time and memory to compute, and in some cases is simply impossible to compute. By default the type of Krylov method in use is GMRES because it does not have assumptions on the underlying Jacobian. The initial guess for each linear solve is always set to zero, which implies that the initial linear residual is the same of the nonlinear residual. The residual norm at each linear iteration is evaluated by PETSc, for instance, during updating the Hessenberg matrix if GMRES method is used. At the conclusion of the nonlinear iteration, the solution is updated as follows</p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-d218e54c-bbc8-418d-b671-f982d0d0ae37"></span><span class="moose-katex-equation-number">(4)</span><script>var element = document.getElementById("moose-equation-d218e54c-bbc8-418d-b671-f982d0d0ae37");katex.render("\\mathbf{u}^{i} = \\mathbf{u}^{i-1} + \\alpha \\delta \\mathbf{u}^{i}", element, {displayMode:true,throwOnError:false});</script></span><p>where <span class="moose-katex-inline-equation" id="moose-equation-69227155-6099-4499-8042-40c69f193d83"><script>var element = document.getElementById("moose-equation-69227155-6099-4499-8042-40c69f193d83");katex.render("\\alpha", element, {displayMode:false,throwOnError:false});</script></span> is determined by the line-search algorithm. We can see that at each nonlinear or Newton iteration, we will need to update the preconditioning matrix and evaluate the residual with the updated solution. At each linear iteration, we simply need a residual evaluation and the operation of the preconditioner built from the preconditioning matrix. In PETSc the preconditioner type refers to the method to obtain an approximation of the inverse of <span class="moose-katex-inline-equation" id="moose-equation-13a4d947-2941-4b2b-868c-6504f5e6859c"><script>var element = document.getElementById("moose-equation-13a4d947-2941-4b2b-868c-6504f5e6859c");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span> and not a means to compute the elements of <span class="moose-katex-inline-equation" id="moose-equation-2263bb58-dd3c-4439-8475-9cd8d31b56ea"><script>var element = document.getElementById("moose-equation-2263bb58-dd3c-4439-8475-9cd8d31b56ea");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span>. It is noted that the default preconditioner type depends on the number of processors and also depends on the assembled preconditioning matrix <span class="moose-katex-inline-equation" id="moose-equation-f59e97e9-e2b7-4857-830a-8467b250cef8"><script>var element = document.getElementById("moose-equation-f59e97e9-e2b7-4857-830a-8467b250cef8");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span>. Typically incomplete LU (PCILU) is the default type with one processor and block Jacobi (PCBJACOBI) is the type with multiple processors. Consequently, you will not see the same convergence with the different number of processors. Note, there are two approximations in play here: (1) the Jacobian <span class="moose-katex-inline-equation" id="moose-equation-e1799e8d-333d-4778-a7d1-3300fcb0a279"><script>var element = document.getElementById("moose-equation-e1799e8d-333d-4778-a7d1-3300fcb0a279");katex.render("\\mathbf{J}", element, {displayMode:false,throwOnError:false});</script></span> is approximated by a matrix <span class="moose-katex-inline-equation" id="moose-equation-af2ad142-1c97-4a68-b2ec-ddc234facfbc"><script>var element = document.getElementById("moose-equation-af2ad142-1c97-4a68-b2ec-ddc234facfbc");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span> that is easier to compute, and (2) the matrix <span class="moose-katex-inline-equation" id="moose-equation-5255646f-17ce-4201-b66a-350734e4bdb1"><script>var element = document.getElementById("moose-equation-5255646f-17ce-4201-b66a-350734e4bdb1");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span> is inverted approximately. The preconditioning matrix <span class="moose-katex-inline-equation" id="moose-equation-6f9281fa-5bfc-4eaf-82b3-2cf80ac9642b"><script>var element = document.getElementById("moose-equation-6f9281fa-5bfc-4eaf-82b3-2cf80ac9642b");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span> can be viewed with the PETSc option <code>-ksp_view_pmat</code>.</p></section><section class="scrollspy" id="13fbae9e-9e1d-4dc2-8606-f8334ab742ea" data-section-level="2" data-section-text="Solve Type"><h2 id="solve-type">Solve Type</h2><p>The general method in which the nonlinear system is solved is controled by the <a href="#52e8efe0-ee24-4dd2-ac3f-a0eedc2dcd8d" class="moose-modal-link modal-trigger">&quot;solve_type&quot;</a> parameter. Below is a description of each of the options:</p><ul class="browser-default"><li><p><code>PJFNK</code> is the default solve type. It makes the executioner perform Jacobian-free linear solves at each Newton iteration with the preconditioner built from the preconditioning matrix <span class="moose-katex-inline-equation" id="moose-equation-42bb3fea-3c4a-4cfc-9bb7-af455473964b"><script>var element = document.getElementById("moose-equation-42bb3fea-3c4a-4cfc-9bb7-af455473964b");katex.render("\\mathbf{M}", element, {displayMode:false,throwOnError:false});</script></span>. By default, the preconditioning matrix is block-diagonal with each block corresponding to a single MOOSE variable without custom preconditioning, refer to <a href="../../syntax/Preconditioning/index.html">Preconditioning</a>. Off-diagonal Jacobian terms are ignored. It essentially activates the matrix-free Jacobian-vector products, and the preconditioning matrix. </p></li><li><p><code>JFNK</code> means there is no preconditioning during the Krylov solve. No Jacobian will be assembled. It essentially activates the matrix-free Jacobian-vector products and no preconditioning matrix. </p></li><li><p><code>LINEAR</code> will use PETSc control parameter <code>-ksp_only</code> to set the type of SNES for solving the linear system. Note that it only works when you have an <em>exact</em> Jacobian because it is not activating matrix-free calculations. </p></li><li><p><code>NEWTON</code> means PETSc will use the Jacobian provided by kernels (typically not exact) to do the Krylov solve. If the Jacobian is not exact, Newton update in <a href="#moose-equation-d218e54c-bbc8-418d-b671-f982d0d0ae37">Eq. (4)</a> will not reduce the residual effectively and typically results into an unconverged Newton iteration. </p></li><li><p><code>FD</code> means the Jacobian is assembled via a finite differencing method. This is costly and should used only for testing purpose.</p></li></ul></section><section class="scrollspy" id="7b599e97-0cc4-40fc-986f-8f63571dc4a1" data-section-level="2" data-section-text="Preconditioning"><h2 id="preconditioning">Preconditioning</h2><ul class="browser-default"><li><p>Krylov methods need preconditioning to be efficient (or even effective!). </p></li><li><p>Even though the Jacobian is never formed, JFNK methods still require preconditioning. </p></li><li><p>MOOSE&#x27;s automatic (without user intervention) preconditioning is fairly minimal. </p></li><li><p>Many options exist for implementing improved preconditioning in MOOSE.</p></li></ul><section id="a2d4a5fb-feb8-4ce7-bcbe-9a20f3c4035e" data-section-level="3" data-section-text="Preconditioned JFNK"><h3 id="preconditioned-jfnk">Preconditioned JFNK</h3><ul class="browser-default"><li><p>Using right preconditioning, solve</p></li></ul><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-677c0f83-a72b-4438-9033-18cfd7a9ed31"></span><script>var element = document.getElementById("moose-equation-677c0f83-a72b-4438-9033-18cfd7a9ed31");katex.render("\\boldsymbol{R}'(\\boldsymbol{u}^{i-1}) \\boldsymbol{M}^{-1} (\\boldsymbol{M} \\delta \\boldsymbol{u}^{i}) = -\\boldsymbol{R}(\\boldsymbol{u}^{i-1})", element, {displayMode:true,throwOnError:false});</script></span><ul class="browser-default"><li><p><span class="moose-katex-inline-equation" id="moose-equation-0cc4bd35-39f4-4489-909e-035a618e8930"><script>var element = document.getElementById("moose-equation-0cc4bd35-39f4-4489-909e-035a618e8930");katex.render("\\boldsymbol{M}", element, {displayMode:false,throwOnError:false});</script></span> symbolically represents the preconditioning matrix or process </p></li><li><p>Inside GMRES, we only apply the action of <span class="moose-katex-inline-equation" id="moose-equation-c3b3cba6-d3e1-4630-aa7d-1863341ff8df"><script>var element = document.getElementById("moose-equation-c3b3cba6-d3e1-4630-aa7d-1863341ff8df");katex.render("\\boldsymbol{M}^{-1}", element, {displayMode:false,throwOnError:false});</script></span> on a vector </p></li><li><p>Right preconditioned matrix free version</p></li></ul><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-b58f0ed8-f1cf-4691-abb5-1471ab64213d"></span><script>var element = document.getElementById("moose-equation-b58f0ed8-f1cf-4691-abb5-1471ab64213d");katex.render("\\boldsymbol{R}' (\\boldsymbol{u}) \\boldsymbol{M}^{-1}\\boldsymbol{v} \\approx \\frac{\\boldsymbol{R}(\\boldsymbol{u} + \\epsilon \\boldsymbol{M}^{-1}\\boldsymbol{v}) - \\boldsymbol{R}(\\boldsymbol{u})}{\\epsilon}", element, {displayMode:true,throwOnError:false});</script></span></section></section><section class="scrollspy" id="07e95883-b5ce-4ca1-92e1-6db01ddc5a36" data-section-level="2" data-section-text="PETSc Options"><h2 id="petsc-options">PETSc Options</h2><p>PETSc parameters can either be set on the command line or by using the <a href="#bb9f1329-cab0-4bd1-9904-22e1d227a8d7" class="moose-modal-link modal-trigger">&quot;petsc_options&quot;</a>, <a href="#a5ad16f8-c124-4deb-a02d-422df4cfcad2" class="moose-modal-link modal-trigger">&quot;petsc_options_iname&quot;</a>, and <a href="#9ed628bb-39e2-40e0-94ac-4296936df3c6" class="moose-modal-link modal-trigger">&quot;petsc_options_value&quot;</a> parameters. Several PETSc parameters that users could frequently use are listed below:</p><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-text">Common stand-alone petsc options</span></p><div form="['center', 'center']" recursive class="moose-table-div"><table><thead><tr><th style=";text-align:center"><code>petsc_options</code></th><th style=";text-align:center">Description</th></tr></thead><tbody><tr><td style=";text-align:center"><code>-snes_ksp_ew</code></td><td style=";text-align:center">Variable linear solve tolerance &ndash; useful for transient solves</td></tr></tbody><tbody><tr><td style=";text-align:center"><code>-help</code></td><td style=";text-align:center">Show PETSc options during the solve</td></tr></tbody></table></div></div></div><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-text">Common petsc options and values</span></p><div form="['center', 'center', 'center']" recursive class="moose-table-div"><table><thead><tr><th style=";text-align:center"><code>petsc_options_iname</code></th><th style=";text-align:center"><code>petsc_options_value</code></th><th style=";text-align:center">Description</th></tr></thead><tbody><tr><td style=";text-align:center"><code>-pc_type</code></td><td style=";text-align:center"><code>ilu</code></td><td style=";text-align:center">Default for serial</td></tr></tbody><tbody><tr><td style=";text-align:center"></td><td style=";text-align:center"><code>bjacobi</code></td><td style=";text-align:center">Default for parallel with <code>-sub_pc_type ilu</code></td></tr></tbody><tbody><tr><td style=";text-align:center"></td><td style=";text-align:center"><code>asm</code></td><td style=";text-align:center">Additive Schwartz with <code>-sub_pc_type ilu</code></td></tr></tbody><tbody><tr><td style=";text-align:center"></td><td style=";text-align:center"><code>lu</code></td><td style=";text-align:center">Full LU, serial only!</td></tr></tbody><tbody><tr><td style=";text-align:center"></td><td style=";text-align:center"><code>gamg</code></td><td style=";text-align:center">PETSc Geometric AMG Preconditioner</td></tr></tbody><tbody><tr><td style=";text-align:center"></td><td style=";text-align:center"><code>hypre</code></td><td style=";text-align:center">Hypre, usually used with <code>boomeramg</code></td></tr></tbody><tbody><tr><td style=";text-align:center"><code>-sub_pc_type</code></td><td style=";text-align:center"><code>ilu, lu, hypre</code></td><td style=";text-align:center">Can be used with bjacobi or asm</td></tr></tbody><tbody><tr><td style=";text-align:center"><code>-pc_hypre_type</code></td><td style=";text-align:center"><code>boomeramg</code></td><td style=";text-align:center">Algebraic multigrid</td></tr></tbody><tbody><tr><td style=";text-align:center"><code>-pc_hypre_boomeramg</code> (cont.)</td><td style=";text-align:center"></td><td style=";text-align:center">&quot;Information Threshold&quot; for AMG process</td></tr></tbody><tbody><tr><td style=";text-align:center"><code>_strong_threshold</code></td><td style=";text-align:center"><code>0.0 - 1.0</code></td><td style=";text-align:center"><em></em>(0.7 is auto set for 3D)</td></tr></tbody><tbody><tr><td style=";text-align:center"><code>-ksp_gmres_restart</code></td><td style=";text-align:center"><code>#</code></td><td style=";text-align:center">Number of Krylov vectors to store</td></tr></tbody></table></div></div></div></section><section class="scrollspy" id="774ee02c-8e57-49f2-a570-30c3f6263334" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="ad5e0312-f948-4961-a6ef-1ff18c975964" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">contact_line_search_allowed_lambda_cuts</span><span class="moose-parameter-header-default">2</span><span class="moose-parameter-header-description">The number of times lambda is allowed to be cut in half in the contact line search. We recommend this number be roughly bounded by 0 <= allowed_lambda_cuts <= 3</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>2</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The number of times lambda is allowed to be cut in half in the contact line search. We recommend this number be roughly bounded by 0 <= allowed_lambda_cuts <= 3</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">contact_line_search_ltol</span><span class="moose-parameter-header-description">The linear relative tolerance to be used while the contact state is changing between non-linear iterations. We recommend that this tolerance be looser than the standard linear tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The linear relative tolerance to be used while the contact state is changing between non-linear iterations. We recommend that this tolerance be looser than the standard linear tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">custom_abs_tol</span><span class="moose-parameter-header-default">1e-50</span><span class="moose-parameter-header-description">The absolute nonlinear residual to shoot for during fixed point iterations. This check is performed based on postprocessor defined by the custom_pp residual.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The absolute nonlinear residual to shoot for during fixed point iterations. This check is performed based on postprocessor defined by the custom_pp residual.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">custom_rel_tol</span><span class="moose-parameter-header-default">1e-08</span><span class="moose-parameter-header-description">The relative nonlinear residual drop to shoot for during fixed point iterations. This check is performed based on the postprocessor defined by custom_pp residual.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-08</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The relative nonlinear residual drop to shoot for during fixed point iterations. This check is performed based on the postprocessor defined by custom_pp residual.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_algorithm</span><span class="moose-parameter-header-default">picard</span><span class="moose-parameter-header-description">The fixed point algorithm to converge the sequence of problems.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>picard</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>picard, secant, steffensen</p><p class="moose-parameter-description"><span>Description:</span>The fixed point algorithm to converge the sequence of problems.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">line_search</span><span class="moose-parameter-header-default">default</span><span class="moose-parameter-header-description">Specifies the line search type (Note: none = basic)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>default</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>basic, bt, contact, cp, default, l2, none, project, shell</p><p class="moose-parameter-description"><span>Description:</span>Specifies the line search type (Note: none = basic)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">line_search_package</span><span class="moose-parameter-header-default">petsc</span><span class="moose-parameter-header-description">The solver package to use to conduct the line-search</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>petsc</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>petsc, moose</p><p class="moose-parameter-description"><span>Description:</span>The solver package to use to conduct the line-search</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">mffd_type</span><span class="moose-parameter-header-default">wp</span><span class="moose-parameter-header-description">Specifies the finite differencing type for Jacobian-free solve types. Note that the default is wp (for Walker and Pernice).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>wp</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>wp, ds</p><p class="moose-parameter-description"><span>Description:</span>Specifies the finite differencing type for Jacobian-free solve types. Note that the default is wp (for Walker and Pernice).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">n_max_nonlinear_pingpong</span><span class="moose-parameter-header-default">100</span><span class="moose-parameter-header-description">The maximum number of times the non linear residual can ping pong before requesting halting the current evaluation and requesting timestep cut</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>100</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The maximum number of times the non linear residual can ping pong before requesting halting the current evaluation and requesting timestep cut</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_abs_div_tol</span><span class="moose-parameter-header-default">1e+50</span><span class="moose-parameter-header-description">Nonlinear Absolute Divergence Tolerance. A negative value disables this check.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e+50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Absolute Divergence Tolerance. A negative value disables this check.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_div_tol</span><span class="moose-parameter-header-default">1e+10</span><span class="moose-parameter-header-description">Nonlinear Relative Divergence Tolerance. A negative value disables this check.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e+10</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Relative Divergence Tolerance. A negative value disables this check.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_forced_its</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The Number of Forced Nonlinear Iterations</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The Number of Forced Nonlinear Iterations</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">petsc_options</span><span class="moose-parameter-header-description">Singleton PETSc options</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>-dm_moose_print_embedding, -dm_view, -ksp_converged_reason, -ksp_gmres_modifiedgramschmidt, -ksp_monitor, -ksp_monitor_snes_lg-snes_ksp_ew, -ksp_snes_ew, -snes_converged_reason, -snes_ksp, -snes_ksp_ew, -snes_linesearch_monitor, -snes_mf, -snes_mf_operator, -snes_monitor, -snes_test_display, -snes_view</p><p class="moose-parameter-description"><span>Description:</span>Singleton PETSc options</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">petsc_options_iname</span><span class="moose-parameter-header-description">Names of PETSc name/value pairs</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>-ksp_atol, -ksp_gmres_restart, -ksp_max_it, -ksp_pc_side, -ksp_rtol, -ksp_type, -mat_fd_coloring_err, -mat_fd_type, -mat_mffd_type, -pc_asm_overlap, -pc_factor_levels, -pc_factor_mat_ordering_type, -pc_hypre_boomeramg_grid_sweeps_all, -pc_hypre_boomeramg_max_iter, -pc_hypre_boomeramg_strong_threshold, -pc_hypre_type, -pc_type, -snes_atol, -snes_linesearch_type, -snes_ls, -snes_max_it, -snes_rtol, -snes_divergence_tolerance, -snes_type, -sub_ksp_type, -sub_pc_type</p><p class="moose-parameter-description"><span>Description:</span>Names of PETSc name/value pairs</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">petsc_options_value</span><span class="moose-parameter-header-description">Values of PETSc name/value pairs (must correspond with "petsc_options_iname"</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Values of PETSc name/value pairs (must correspond with "petsc_options_iname"</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">resid_vs_jac_scaling_param</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">A parameter that indicates the weighting of the residual vs the Jacobian in determining variable scaling parameters. A value of 1 indicates pure residual-based scaling. A value of 0 indicates pure Jacobian-based scaling</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>A parameter that indicates the weighting of the residual vs the Jacobian in determining variable scaling parameters. A value of 1 indicates pure residual-based scaling. A value of 0 indicates pure Jacobian-based scaling</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">scaling_group_variables</span><span class="moose-parameter-header-description">Name of variables that are grouped together for determining scale factors. (Multiple groups can be provided, separated by semicolon)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;std::string&gt;&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Name of variables that are grouped together for determining scale factors. (Multiple groups can be provided, separated by semicolon)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">skip_exception_check</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Specifies whether or not to skip exception check</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Specifies whether or not to skip exception check</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">solve_type</span><span class="moose-parameter-header-description">PJFNK: Preconditioned Jacobian-Free Newton Krylov JFNK: Jacobian-Free Newton Krylov NEWTON: Full Newton Solve FD: Use finite differences to compute Jacobian LINEAR: Solving a linear problem</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>PJFNK, JFNK, NEWTON, FD, LINEAR</p><p class="moose-parameter-description"><span>Description:</span>PJFNK: Preconditioned Jacobian-Free Newton Krylov JFNK: Jacobian-Free Newton Krylov NEWTON: Full Newton Solve FD: Use finite differences to compute Jacobian LINEAR: Solving a linear problem</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">splitting</span><span class="moose-parameter-header-description">Top-level splitting defining a hierarchical decomposition into subsystems to help the solver.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Top-level splitting defining a hierarchical decomposition into subsystems to help the solver.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">time</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">System time</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>System time</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">verbose</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Set to true to print additional information</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set to true to print additional information</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="336845da-a7f1-436e-adaa-448dd77ffcd1" data-section-level="3" data-section-text="Fixed Point Iterations Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">accept_on_max_fixed_point_iteration</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to treat reaching the maximum number of fixed point iterations as converged.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>True to treat reaching the maximum number of fixed point iterations as converged.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">auto_advance</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether to automatically advance sub-applications regardless of whether their solve converges, for transient executioners only.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether to automatically advance sub-applications regardless of whether their solve converges, for transient executioners only.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">custom_pp</span><span class="moose-parameter-header-description">Postprocessor for custom fixed point convergence check.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>PostprocessorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Postprocessor for custom fixed point convergence check.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">direct_pp_value</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to use direct postprocessor value (scaled by value on first iteration). False (default) to use difference in postprocessor value between fixed point iterations.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>True to use direct postprocessor value (scaled by value on first iteration). False (default) to use difference in postprocessor value between fixed point iterations.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">disable_fixed_point_residual_norm_check</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Disable the residual norm evaluation thus the three parameters fixed_point_rel_tol, fixed_point_abs_tol and fixed_point_force_norms.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Disable the residual norm evaluation thus the three parameters fixed_point_rel_tol, fixed_point_abs_tol and fixed_point_force_norms.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_abs_tol</span><span class="moose-parameter-header-default">1e-50</span><span class="moose-parameter-header-description">The absolute nonlinear residual to shoot for during fixed point iterations. This check is performed based on the main app's nonlinear residual.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The absolute nonlinear residual to shoot for during fixed point iterations. This check is performed based on the main app's nonlinear residual.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_force_norms</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Force the evaluation of both the TIMESTEP_BEGIN and TIMESTEP_END norms regardless of the existence of active MultiApps with those execute_on flags, default: false.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Force the evaluation of both the TIMESTEP_BEGIN and TIMESTEP_END norms regardless of the existence of active MultiApps with those execute_on flags, default: false.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_max_its</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Specifies the maximum number of fixed point iterations.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Specifies the maximum number of fixed point iterations.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_min_its</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Specifies the minimum number of fixed point iterations.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Specifies the minimum number of fixed point iterations.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fixed_point_rel_tol</span><span class="moose-parameter-header-default">1e-08</span><span class="moose-parameter-header-description">The relative nonlinear residual drop to shoot for during fixed point iterations. This check is performed based on the main app's nonlinear residual.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-08</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The relative nonlinear residual drop to shoot for during fixed point iterations. This check is performed based on the main app's nonlinear residual.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">relaxation_factor</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Fraction of newly computed value to keep.Set between 0 and 2.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Fraction of newly computed value to keep.Set between 0 and 2.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">transformed_postprocessors</span><span class="moose-parameter-header-description">List of main app postprocessors to transform during fixed point iterations</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;PostprocessorName&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>List of main app postprocessors to transform during fixed point iterations</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">transformed_variables</span><span class="moose-parameter-header-description">List of main app variables to transform during fixed point iterations</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>List of main app variables to transform during fixed point iterations</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Fixed Point Iterations Parameters</h3></summary></details></section><section id="cb457ab6-cef7-495e-96ae-3e154564cfd1" data-section-level="3" data-section-text="Solver Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">automatic_scaling</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether to use automatic scaling for the variables.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether to use automatic scaling for the variables.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">compute_initial_residual_before_preset_bcs</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Use the residual norm computed *before* preset BCs are imposed in relative convergence check</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Use the residual norm computed *before* preset BCs are imposed in relative convergence check</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">compute_scaling_once</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Whether the scaling factors should only be computed once at the beginning of the simulation through an extra Jacobian evaluation. If this is set to false, then the scaling factors will be computed during an extra Jacobian evaluation at the beginning of every time step.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether the scaling factors should only be computed once at the beginning of the simulation through an extra Jacobian evaluation. If this is set to false, then the scaling factors will be computed during an extra Jacobian evaluation at the beginning of every time step.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">l_abs_tol</span><span class="moose-parameter-header-default">1e-50</span><span class="moose-parameter-header-description">Linear Absolute Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Linear Absolute Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">l_max_its</span><span class="moose-parameter-header-default">10000</span><span class="moose-parameter-header-description">Max Linear Iterations</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>10000</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Max Linear Iterations</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">l_tol</span><span class="moose-parameter-header-default">1e-05</span><span class="moose-parameter-header-description">Linear Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-05</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Linear Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_abs_step_tol</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Nonlinear Absolute step Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Absolute step Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_abs_tol</span><span class="moose-parameter-header-default">1e-50</span><span class="moose-parameter-header-description">Nonlinear Absolute Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Absolute Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_max_funcs</span><span class="moose-parameter-header-default">10000</span><span class="moose-parameter-header-description">Max Nonlinear solver function evaluations</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>10000</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Max Nonlinear solver function evaluations</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_max_its</span><span class="moose-parameter-header-default">50</span><span class="moose-parameter-header-description">Max Nonlinear Iterations</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>50</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Max Nonlinear Iterations</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_rel_step_tol</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Nonlinear Relative step Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Relative step Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_rel_tol</span><span class="moose-parameter-header-default">1e-08</span><span class="moose-parameter-header-description">Nonlinear Relative Tolerance</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1e-08</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Nonlinear Relative Tolerance</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">num_grids</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">The number of grids to use for a grid sequencing algorithm. This includes the final grid, so num_grids = 1 indicates just one solve in a time-step</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The number of grids to use for a grid sequencing algorithm. This includes the final grid, so num_grids = 1 indicates just one solve in a time-step</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">off_diagonals_in_auto_scaling</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether to consider off-diagonals when determining automatic scaling factors.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether to consider off-diagonals when determining automatic scaling factors.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">snesmf_reuse_base</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Specifies whether or not to reuse the base vector for matrix-free calculation</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Specifies whether or not to reuse the base vector for matrix-free calculation</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Solver Parameters</h3></summary></details></section><section id="a493b8a5-f80c-49c8-88f1-81f77312b646" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">outputs</span><span class="moose-parameter-header-description">Vector of output names were you would like to restrict the output of variables(s) associated with this object</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;OutputName&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Vector of output names were you would like to restrict the output of variables(s) associated with this object</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section><section id="301d2d75-45dd-48cd-8408-52af093b96dc" data-section-level="3" data-section-text="Xfem Fixed Point Iterations Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">max_xfem_update</span><span class="moose-parameter-header-default">4294967295</span><span class="moose-parameter-header-description">Maximum number of times to update XFEM crack topology in a step due to evolving cracks</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>4294967295</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Maximum number of times to update XFEM crack topology in a step due to evolving cracks</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">update_xfem_at_timestep_begin</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Should XFEM update the mesh at the beginning of the timestep</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Should XFEM update the mesh at the beginning of the timestep</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Xfem Fixed Point Iterations Parameters</h3></summary></details></section><section id="b67ce99d-e251-4d68-abe7-b0c98809e978" data-section-level="3" data-section-text="Restart Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Restart Parameters</h3></summary></details></section></section></section><div class="moose-modal modal" id="52e8efe0-ee24-4dd2-ac3f-a0eedc2dcd8d"><div class="modal-content"><h4>solve_type</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>PJFNK, JFNK, NEWTON, FD, LINEAR</p><p class="moose-parameter-description"><span>Description:</span>PJFNK: Preconditioned Jacobian-Free Newton Krylov JFNK: Jacobian-Free Newton Krylov NEWTON: Full Newton Solve FD: Use finite differences to compute Jacobian LINEAR: Solving a linear problem</p></div></div><div class="moose-modal modal" id="bb9f1329-cab0-4bd1-9904-22e1d227a8d7"><div class="modal-content"><h4>petsc_options</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>-dm_moose_print_embedding, -dm_view, -ksp_converged_reason, -ksp_gmres_modifiedgramschmidt, -ksp_monitor, -ksp_monitor_snes_lg-snes_ksp_ew, -ksp_snes_ew, -snes_converged_reason, -snes_ksp, -snes_ksp_ew, -snes_linesearch_monitor, -snes_mf, -snes_mf_operator, -snes_monitor, -snes_test_display, -snes_view</p><p class="moose-parameter-description"><span>Description:</span>Singleton PETSc options</p></div></div><div class="moose-modal modal" id="a5ad16f8-c124-4deb-a02d-422df4cfcad2"><div class="modal-content"><h4>petsc_options_iname</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MultiMooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>-ksp_atol, -ksp_gmres_restart, -ksp_max_it, -ksp_pc_side, -ksp_rtol, -ksp_type, -mat_fd_coloring_err, -mat_fd_type, -mat_mffd_type, -pc_asm_overlap, -pc_factor_levels, -pc_factor_mat_ordering_type, -pc_hypre_boomeramg_grid_sweeps_all, -pc_hypre_boomeramg_max_iter, -pc_hypre_boomeramg_strong_threshold, -pc_hypre_type, -pc_type, -snes_atol, -snes_linesearch_type, -snes_ls, -snes_max_it, -snes_rtol, -snes_divergence_tolerance, -snes_type, -sub_ksp_type, -sub_pc_type</p><p class="moose-parameter-description"><span>Description:</span>Names of PETSc name/value pairs</p></div></div><div class="moose-modal modal" id="9ed628bb-39e2-40e0-94ac-4296936df3c6"><div class="modal-content"><h4>petsc_options_value</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Values of PETSc name/value pairs (must correspond with "petsc_options_iname"</p></div></div></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#ee20ff0d-e6b9-4988-846f-4bb9722402a8" class="tooltipped" data-position="left" data-tooltip="Overview">Overview</a></li><li><a href="#13fbae9e-9e1d-4dc2-8606-f8334ab742ea" class="tooltipped" data-position="left" data-tooltip="Solve Type">Solve Type</a></li><li><a href="#7b599e97-0cc4-40fc-986f-8f63571dc4a1" class="tooltipped" data-position="left" data-tooltip="Preconditioning">Preconditioning</a></li><li><a href="#07e95883-b5ce-4ca1-92e1-6db01ddc5a36" class="tooltipped" data-position="left" data-tooltip="PETSc Options">PETSc Options</a></li><li><a href="#774ee02c-8e57-49f2-a570-30c3f6263334" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>